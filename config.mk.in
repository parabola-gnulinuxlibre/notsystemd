#  -*- Mode: makefile; indent-tabs-mode: t -*-
#
#  This file is part of systemd.
#
#  Copyright 2010-2012 Lennart Poettering
#  Copyright 2010-2012 Kay Sievers
#  Copyright 2013 Zbigniew JÄ™drzejewski-Szmek
#  Copyright 2013 David Strauss
#  Copyright 2016 Luke Shumaker
#
#  systemd is free software; you can redistribute it and/or modify it
#  under the terms of the GNU Lesser General Public License as published by
#  the Free Software Foundation; either version 2.1 of the License, or
#  (at your option) any later version.
#
#  systemd is distributed in the hope that it will be useful, but
#  WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
#  Lesser General Public License for more details.
#
#  You should have received a copy of the GNU Lesser General Public License
#  along with systemd; If not, see <http://www.gnu.org/licenses/>.

ifeq ($(origin topsrcdir),undefined)
topoutdir := $(patsubst %/,%,$(dir $(lastword $(MAKEFILE_LIST))))
topsrcdir := $(topoutdir)/@top_srcdir@

.LIBPATTERNS = lib%.so lib%.a

include $(topoutdir)/gnustandards.mk
include $(topoutdir)/autoconf.mk

CCLD = $(CC)

OUR_CPPFLAGS = @OUR_CPPFLAGS@
OUR_CFLAGS = @OUR_CFLAGS@
OUR_LDFLAGS = @OUR_LDFLAGS@
OUR_LIBTOOLFLAGS =

AM_CPPFLAGS =
AM_CFLAGS =
AM_LDFLAGS =
AM_LIBTOOLFLAGS =

EFI_CPPFLAGS =
EFI_CFLAGS =
EFI_LDFLAGS =

SYSTEM_SYSVINIT_PATH = @SYSTEM_SYSVINIT_PATH@
SYSTEM_SYSVRCND_PATH = @SYSTEM_SYSVRCND_PATH@

# Dirs of external packages
dbuspolicydir=@dbuspolicydir@
dbussessionservicedir=@dbussessionservicedir@
dbussystemservicedir=@dbussystemservicedir@
pamlibdir=@pamlibdir@
pamconfdir=@pamconfdir@
pkgconfigdatadir=$(datadir)/pkgconfig
pkgconfiglibdir=$(libdir)/pkgconfig
polkitpolicydir=$(datadir)/polkit-1/actions
bashcompletiondir=@bashcompletiondir@
zshcompletiondir=@zshcompletiondir@
rpmmacrosdir=$(prefix)/lib/rpm/macros.d
sysvinitdir=$(SYSTEM_SYSVINIT_PATH)
sysvrcnddir=$(SYSTEM_SYSVRCND_PATH)
varlogdir=$(localstatedir)/log
systemdstatedir=$(localstatedir)/lib/systemd
catalogstatedir=$(systemdstatedir)/catalog
xinitrcdir=$(sysconfdir)/X11/xinit/xinitrc.d

# Our own, non-special dirs
pkgsysconfdir=$(sysconfdir)/systemd
userunitdir=$(prefix)/lib/systemd/user
userpresetdir=$(prefix)/lib/systemd/user-preset
tmpfilesdir=$(prefix)/lib/tmpfiles.d
sysusersdir=$(prefix)/lib/sysusers.d
sysctldir=$(prefix)/lib/sysctl.d
binfmtdir=$(prefix)/lib/binfmt.d
modulesloaddir=$(prefix)/lib/modules-load.d
networkdir=$(rootprefix)/lib/systemd/network
pkgincludedir=$(includedir)/systemd
systemgeneratordir=$(rootlibexecdir)/system-generators
usergeneratordir=$(prefix)/lib/systemd/user-generators
systemshutdowndir=$(rootlibexecdir)/system-shutdown
systemsleepdir=$(rootlibexecdir)/system-sleep
systemunitdir=$(rootprefix)/lib/systemd/system
systempresetdir=$(rootprefix)/lib/systemd/system-preset
udevlibexecdir=$(rootprefix)/lib/udev
udevhomedir=$(udevlibexecdir)
udevrulesdir=$(udevlibexecdir)/rules.d
udevhwdbdir=$(udevlibexecdir)/hwdb.d
catalogdir=$(prefix)/lib/systemd/catalog
kernelinstalldir = $(prefix)/lib/kernel/install.d
factory_etcdir = $(datadir)/factory/etc
factory_pamdir = $(datadir)/factory/etc/pam.d
bootlibdir = $(prefix)/lib/systemd/boot/efi

# And these are the special ones for /
rootprefix=@rootprefix@
rootbindir=$(rootprefix)/bin
rootlibexecdir=$(rootprefix)/lib/systemd
rootlibdir=@rootlibdir@

# Libraries we provide
libsystemd.CPPFLAGS                  = -I$(topsrcdir)/src/libsystemd/include
libsystemd.DEPENDS                   =   $(topoutdir)/src/libsystemd/libsystemd.la
libsystemd-internal.CPPFLAGS         = -I$(topsrcdir)/src/libsystemd/src -I$(topoutdir)/src/libsystemd/src $(libsystemd.CPPFLAGS) $(libsystemd-basic.CPPFLAGS)
libsystemd-internal.DEPENDS          =   $(topoutdir)/src/libsystemd/src/libsystemd-internal.la
libsystemd-staging.CPPFLAGS          = -I$(topsrcdir)/src/libsystemd/include-staging $(libsystemd.CPPFLAGS)
libsystemd-staging.DEPENDS           = $(libsystemd-internal.DEPENDS)

libsystemd-basic.CPPFLAGS            = -I$(topsrcdir)/src/libsystemd-basic/include
libsystemd-basic.DEPENDS             =   $(topoutdir)/src/libsystemd-basic/src/libsystemd-basic.la
libsystemd-blkid.CPPFLAGS            = -I$(topsrcdir)/src/libsystemd-blkid/include $(libsystemd-basic.CPPFLAGS) $(BLKID_CFLAGS)
libsystemd-blkid.DEPENDS             = $(BLKID_LIBS)
libsystemd-firewall.CPPFLAGS         = -I$(topsrcdir)/src/libsystemd-firewall/include $(libsystemd-basic.CPPFLAGS)
libsystemd-firewall.DEPENDS          =   $(topoutdir)/src/libsystemd-firewall/src/libsystemd-firewall.la
libsystemd-microhttpd.CPPFLAGS       = -I$(topsrcdir)/src/libsystemd-microhttpd/include $(libsystemd-basic.CPPFLAGS)
libsystemd-microhttpd.DEPENDS        =   $(topoutdir)/src/libsystemd-microhttpd/src/libsystemd-microhttpd.la
libsystemd-gcrypt.CPPFLAGS           = -I$(topsrcdir)/src/libsystemd-gcrypt/include
libsystemd-gcrypt.DEPENDS            =   $(topoutdir)/src/libsystemd-gcrypt/src/libsystemd-gcrypt.la
libsystemd-network.CPPFLAGS          = -I$(topsrcdir)/src/libsystemd-network/include $(libsystemd-basic.CPPFLAGS) $(libsystemd-shared.CPPFLAGS)
libsystemd-network.DEPENDS           =   $(topoutdir)/src/libsystemd-network/src/libsystemd-network.la
libsystemd-shared.CPPFLAGS           = -I$(topsrcdir)/src/libsystemd-shared/include $(libsystemd-basic.CPPFLAGS) $(libudev-internal.CPPFLAGS)
libsystemd-shared.DEPENDS            =   $(topoutdir)/src/libsystemd-shared/src/libsystemd-shared.la

libudev.CPPFLAGS                     = -I$(topsrcdir)/src/libudev/include
libudev.DEPENDS                      =   $(topoutdir)/src/libudev/libudev.la
libudev-internal.CPPFLAGS            = -I$(topsrcdir)/src/libudev/src $(libudev.CPPFLAGS) $(libsystemd-basic.CPPFLAGS) $(libsystemd-staging.CPPFLAGS)
libudev-internal.DEPENDS             =   $(topoutdir)/src/libudev/src/libudev-internal.la

# -core libs
libcore.CPPFLAGS                     = -I$(topsrcdir)/src/grp-system/libcore $(libsystemd-shared.CPPFLAGS)
libcore.DEPENDS                      =   $(topoutdir)/src/grp-system/libcore/libcore.la
#libbus-proxy-core.CPPFLAGS =
#libbus-proxy-core.DEPENDS  =
libjournal-core.CPPFLAGS   = -I$(topsrcdir)/src/grp-journal/libjournal-core/include $(libsystemd-internal.CPPFLAGS) $(libsystemd-basic.CPPFLAGS) $(libsystemd-shared.CPPFLAGS)
libjournal-core.DEPENDS    =   $(topoutdir)/src/grp-journal/libjournal-core/src/libjournal-core.la
#liblogind-core.CPPFLAGS    =
#liblogind-core.DEPENDS     =
libmachine-core.CPPFLAGS   = -I$(topsrcdir)/src/grp-machine/libmachine-core/include
libmachine-core.DEPENDS    =   $(topoutdir)/src/grp-machine/libmachine-core/src/libmachine-core.la
libnetworkd-core.CPPFLAGS  = -I$(topsrcdir)/src/grp-network/libnetworkd-core $(libsystemd-internal.CPPFLAGS) $(libsystemd-network.CPPFLAGS) $(libsystemd-shared.CPPFLAGS) $(libudev-internal.CPPFLAGS)
libnetworkd-core.DEPENDS   =   $(topoutdir)/src/grp-network/libnetworkd-core/libnetworkd-core.la
libudev-core.CPPFLAGS      = -I$(topoutdir)/src/grp-udev/libudev-core $(libsystemd-network.CPPFLAGS) $(libsystemd-shared.CPPFLAGS)
libudev-core.DEPENDS       =   $(topoutdir)/src/grp-udev/libudev-core/libudev-core.la
libbasic-dns.CPPFLAGS      = -I$(topoutdir)/src/grp-resolve/libbasic-dns -I$(topsrcdir)/src/grp-resolve/libbasic-dns
libbasic-dns.DEPENDS       =   $(topoutdir)/src/grp-resolve/libbasic-dns/libbasic-dns.la
libimport.CPPFLAGS         = -I$(topsrcdir)/src/grp-machine/grp-import/libimport
libimport.DEPENDS          =   $(topoutdir)/src/grp-machine/grp-import/libimport/libimport.la
# NSS modules
libnss_myhostname.CPPFLAGS =
libnss_myhostname.DEPENDS  =
libnss_mymachines.CPPFLAGS =
libnss_mymachines.DEPENDS  =
libnss_resolve.CPPFLAGS    =
libnss_resolve.DEPENDS     =

# Libraries we use
HAVE_ACL        = @HAVE_ACL_TRUE@1
     ACL_CFLAGS =#HARDCODED
     ACL_LIBS   = @ACL_LIBS@
HAVE_APPARMOR        = @HAVE_APPARMOR_TRUE@1
     APPARMOR_CFLAGS = @APPARMOR_CFLAGS@
     APPARMOR_LIBS   = @APPARMOR_LIBS@
HAVE_AUDIT        = @HAVE_AUDIT_TRUE@1
     AUDIT_CFLAGS =#HARDCODED
     AUDIT_LIBS   = @AUDIT_LIBS@
HAVE_BLKID        = @HAVE_BLKID_TRUE@1
     BLKID_CFLAGS = @BLKID_CFLAGS@
     BLKID_LIBS   = @BLKID_LIBS@
HAVE_BZIP2        = @HAVE_BZIP2_TRUE@1
     BZIP2_CFLAGS =#HARDCODED
     BZIP2_LIBS   = -lbz2#HARDCODED
HAVE_CAP        = 1#HARDCODED
     CAP_CFLAGS =#HARDCODED
     CAP_LIBS   = @CAP_LIBS@
HAVE_DBUS        = @HAVE_DBUS_TRUE@1
     DBUS_CFLAGS = @DBUS_CFLAGS@
     DBUS_LIBS   = @DBUS_LIBS@
HAVE_ELFUTILS        = @HAVE_ELFUTILS_TRUE@1
     ELFUTILS_CFLAGS =#HARDCODED
     ELFUTILS_LIBS   = @ELFUTILS_LIBS@
HAVE_GCRYPT        = @HAVE_GCRYPT_TRUE@1
     GCRYPT_CFLAGS = @GCRYPT_CFLAGS@
     GCRYPT_LIBS   = @GCRYPT_LIBS@
HAVE_GNUTLS        = @HAVE_GNUTLS_TRUE@1
     GNUTLS_CFLAGS = @GNUTLS_CFLAGS@
     GNUTLS_LIBS   = @GNUTLS_LIBS@
HAVE_KMOD        = @HAVE_KMOD_TRUE@1
     KMOD_CFLAGS = @KMOD_CFLAGS@
     KMOD_LIBS   = @KMOD_LIBS@
HAVE_LIBCRYPTSETUP        = @HAVE_LIBCRYPTSETUP_TRUE@1
     LIBCRYPTSETUP_CFLAGS = @LIBCRYPTSETUP_CFLAGS@
     LIBCRYPTSETUP_LIBS   = @LIBCRYPTSETUP_LIBS@
HAVE_LIBCURL        = @HAVE_LIBCURL_TRUE@1
     LIBCURL_CFLAGS = @LIBCURL_CFLAGS@
     LIBCURL_LIBS   = @LIBCURL_LIBS@
HAVE_LIBIDN        = @HAVE_LIBIDN_TRUE@1
     LIBIDN_CFLAGS = @LIBIDN_CFLAGS@
     LIBIDN_LIBS   = @LIBIDN_LIBS@
HAVE_LIBIPTC        = @HAVE_LIBIPTC_TRUE@1
     LIBIPTC_CFLAGS = @LIBIPTC_CFLAGS@
     LIBIPTC_LIBS   = @LIBIPTC_LIBS@
HAVE_LZ4        = @HAVE_LZ4_TRUE@1
     LZ4_CFLAGS = @LZ4_CFLAGS@
     LZ4_LIBS   = @LZ4_LIBS@
HAVE_MICROHTTPD        = @HAVE_MICROHTTPD_TRUE@1
     MICROHTTPD_CFLAGS = @MICROHTTPD_CFLAGS@
     MICROHTTPD_LIBS   = @MICROHTTPD_LIBS@
HAVE_MOUNT        = 1#HARDCODED
     MOUNT_CFLAGS = @MOUNT_CFLAGS@
     MOUNT_LIBS   = @MOUNT_LIBS@
HAVE_PAM        = @HAVE_PAM_TRUE@1
     PAM_CFLAGS =#HARDCODED
     PAM_LIBS   = @PAM_LIBS@
HAVE_QRENCODE        = @HAVE_QRENCODE_TRUE@1
     QRENCODE_CFLAGS = @QRENCODE_CFLAGS@
     QRENCODE_LIBS   = @QRENCODE_LIBS@
HAVE_SECCOMP        = @HAVE_SECCOMP_TRUE@1
     SECCOMP_CFLAGS = @SECCOMP_CFLAGS@
     SECCOMP_LIBS   = @SECCOMP_LIBS@
HAVE_SELINUX        = @HAVE_SELINUX_TRUE@1
     SELINUX_CFLAGS = @SELINUX_CFLAGS@
     SELINUX_LIBS   = @SELINUX_LIBS@
HAVE_XKBCOMMON        = @HAVE_XKBCOMMON_TRUE@1
     XKBCOMMON_CFLAGS = @XKBCOMMON_CFLAGS@
     XKBCOMMON_LIBS   = @XKBCOMMON_LIBS@
HAVE_XZ        = @HAVE_XZ_TRUE@1
     XZ_CFLAGS = @XZ_CFLAGS@
     XZ_LIBS   = @XZ_LIBS@
HAVE_ZLIB        = @HAVE_ZLIB_TRUE@1
     ZLIB_CFLAGS = @ZLIB_CFLAGS@
     ZLIB_LIBS   = @ZLIB_LIBS@

# Other stuff
AM_DEFAULT_VERBOSITY = @AM_DEFAULT_VERBOSITY@

ARCH_AARCH64 = @ARCH_AARCH64_TRUE@1
ARCH_IA32 = @ARCH_IA32_TRUE@1
ARCH_X86_64 = @ARCH_X86_64_TRUE@1

DEFAULT_DNSSEC_MODE = @DEFAULT_DNSSEC_MODE@
KILL_USER_PROCESSES = @KILL_USER_PROCESSES@

ENABLE_BACKLIGHT = @ENABLE_BACKLIGHT_TRUE@1
ENABLE_BASH_COMPLETION = @ENABLE_BASH_COMPLETION_TRUE@1
ENABLE_BINFMT = @ENABLE_BINFMT_TRUE@1
ENABLE_BOOTCHART = @ENABLE_BOOTCHART_TRUE@1
ENABLE_COMPAT_LIBS = @ENABLE_COMPAT_LIBS_TRUE@1
ENABLE_COREDUMP = @ENABLE_COREDUMP_TRUE@1
ENABLE_COVERAGE = @ENABLE_COVERAGE_TRUE@1
ENABLE_EFI = @ENABLE_EFI_TRUE@1
ENABLE_FIRSTBOOT = @ENABLE_FIRSTBOOT_TRUE@1
ENABLE_HIBERNATE = @ENABLE_HIBERNATE_TRUE@1
ENABLE_HOSTNAMED = @ENABLE_HOSTNAMED_TRUE@1
ENABLE_HWDB = @ENABLE_HWDB_TRUE@1
ENABLE_IMPORTD = @ENABLE_IMPORTD_TRUE@1
ENABLE_LDCONFIG = @ENABLE_LDCONFIG_TRUE@1
ENABLE_LOCALED = @ENABLE_LOCALED_TRUE@1
ENABLE_LOGIND = @ENABLE_LOGIND_TRUE@1
ENABLE_MACHINED = @ENABLE_MACHINED_TRUE@1
ENABLE_MANPAGES = @ENABLE_MANPAGES_TRUE@1
ENABLE_NETWORKD = @ENABLE_NETWORKD_TRUE@1
ENABLE_POLKIT = @ENABLE_POLKIT_TRUE@1
ENABLE_QUOTACHECK = @ENABLE_QUOTACHECK_TRUE@1
ENABLE_RANDOMSEED = @ENABLE_RANDOMSEED_TRUE@1
ENABLE_RESOLVED = @ENABLE_RESOLVED_TRUE@1
ENABLE_RFKILL = @ENABLE_RFKILL_TRUE@1
ENABLE_SPLIT_USR = @ENABLE_SPLIT_USR_TRUE@1
ENABLE_SYSUSERS = @ENABLE_SYSUSERS_TRUE@1
ENABLE_TESTS = @ENABLE_TESTS_TRUE@1
ENABLE_TIMEDATED = @ENABLE_TIMEDATED_TRUE@1
ENABLE_TIMESYNCD = @ENABLE_TIMESYNCD_TRUE@1
ENABLE_TMPFILES = @ENABLE_TMPFILES_TRUE@1
ENABLE_VCONSOLE = @ENABLE_VCONSOLE_TRUE@1
ENABLE_ZSH_COMPLETION = @ENABLE_ZSH_COMPLETION_TRUE@1

HAVE_COMPRESSION = @HAVE_COMPRESSION_TRUE@1
HAVE_GNUEFI = @HAVE_GNUEFI_TRUE@1
HAVE_MYHOSTNAME = @HAVE_MYHOSTNAME_TRUE@1
HAVE_PYTHON = @HAVE_PYTHON_TRUE@1
HAVE_REMOTE = @HAVE_REMOTE_TRUE@1
HAVE_SMACK = @HAVE_SMACK_TRUE@1
HAVE_SYSV_COMPAT = @HAVE_SYSV_COMPAT_TRUE@1
HAVE_UTMP = @HAVE_UTMP_TRUE@1

LIBTOOLFLAGS =

pkgdatadir = $(datadir)/@PACKAGE@
pkgincludedir = $(includedir)/@PACKAGE@
pkglibdir = $(libdir)/@PACKAGE@
pkglibexecdir = $(libexecdir)/@PACKAGE@
pkgpyexecdir = @pkgpyexecdir@
pkgpythondir = @pkgpythondir@

INSTALL = install -D

INTLTOOL_EXTRACT = @INTLTOOL_EXTRACT@
INTLTOOL_MERGE = @INTLTOOL_MERGE@
INTLTOOL_PERL = @INTLTOOL_PERL@
INTLTOOL_UPDATE = @INTLTOOL_UPDATE@
GMSGFMT = @GMSGFMT@
KBD_LOADKEYS = @KBD_LOADKEYS@
KBD_SETFONT = @KBD_SETFONT@
KEXEC = @KEXEC@
KILL = @KILL@
KMOD = @KMOD@
LD = @LD@
MANIFEST_TOOL = @MANIFEST_TOOL@
PKG_CONFIG = @PKG_CONFIG@
PYTHON = @PYTHON@
QEMU = @QEMU@
QUOTACHECK = @QUOTACHECK@
QUOTAON = @QUOTAON@
SETCAP = @SETCAP@
SULOGIN = @SULOGIN@
SUSHELL = @SUSHELL@
UMOUNT_PATH = @UMOUNT_PATH@
XSLTPROC = @XSLTPROC@
MOUNT_PATH = @MOUNT_PATH@

AMTAR = @AMTAR@
CCDEPMODE = @CCDEPMODE@
CERTIFICATEROOT = @CERTIFICATEROOT@
DEBUGTTY = @DEBUGTTY@
DEFS = @DEFS@
DEPDIR = @DEPDIR@
DNS_SERVERS = @DNS_SERVERS@
DSYMUTIL = @DSYMUTIL@
DUMPBIN = @DUMPBIN@
EFI_ARCH = @EFI_ARCH@
EFI_CC = @EFI_CC@
EFI_INC_DIR = @EFI_INC_DIR@
EFI_LDS_DIR = @EFI_LDS_DIR@
EFI_LIB_DIR = @EFI_LIB_DIR@
EFI_MACHINE_TYPE_NAME = @EFI_MACHINE_TYPE_NAME@
EXEEXT = @EXEEXT@
GETTEXT_PACKAGE = @GETTEXT_PACKAGE@
LIBOBJS = @LIBOBJS@
LIBS = @LIBS@
LIPO = @LIPO@
LN_S = @LN_S@
LTLIBOBJS = @LTLIBOBJS@
LT_SYS_LIBRARY_PATH = @LT_SYS_LIBRARY_PATH@
MAINT = @MAINT@
NMEDIT = @NMEDIT@
NTP_SERVERS = @NTP_SERVERS@
OBJEXT = @OBJEXT@
OTOOL = @OTOOL@
OTOOL64 = @OTOOL64@

PATH_SEPARATOR = @PATH_SEPARATOR@
PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
PYTHON_EXEC_PREFIX = @PYTHON_EXEC_PREFIX@
PYTHON_PLATFORM = @PYTHON_PLATFORM@
PYTHON_PREFIX = @PYTHON_PREFIX@
PYTHON_VERSION = @PYTHON_VERSION@
QEMU_BIOS = @QEMU_BIOS@
RC_LOCAL_SCRIPT_PATH_START = @RC_LOCAL_SCRIPT_PATH_START@
RC_LOCAL_SCRIPT_PATH_STOP = @RC_LOCAL_SCRIPT_PATH_STOP@
SYSTEM_GID_MAX = @SYSTEM_GID_MAX@
SYSTEM_UID_MAX = @SYSTEM_UID_MAX@
TELINIT = @TELINIT@
TTY_GID = @TTY_GID@
USE_NLS = @USE_NLS@

build = @build@
build_alias = @build_alias@
build_cpu = @build_cpu@
build_os = @build_os@
build_vendor = @build_vendor@

endif
